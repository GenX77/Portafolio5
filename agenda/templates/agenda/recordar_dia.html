<!-- agenda/templates/agenda/recordar_dia.html -->

{% extends "agenda/base.html" %}

{% block content %}
<div class="container mt-5">
    <h2 class="text-center mb-4">üß† Recordar lo que hice</h2>

    <form method="get" class="text-center mb-4">
        <label for="fecha" class="form-label">Selecciona una fecha anterior:</label>
        <input type="date" name="fecha" id="fecha" class="form-control w-50 mx-auto" 
               max="{{ ayer }}" value="{{ fecha_seleccionada }}">
        <button type="submit" class="btn btn-primary mt-3">üîç Consultar</button>
    </form>

    {% if fecha_seleccionada %}
        <h5 class="text-center mb-3">Tareas registradas el {{ fecha_seleccionada|date:"d/m/Y" }}</h5>
        {% if recordatorios %}
            <ul class="list-group">
                {% for rec in recordatorios %}
                <li class="list-group-item d-flex justify-content-between align-items-center {% if not rec.hecho %}list-group-item-warning{% else %}list-group-item-success{% endif %}">
                    <div>
                        <strong>{{ rec.titulo }}</strong><br>
                        <small>{{ rec.hora|default:"Sin hora" }} - {{ rec.descripcion }}</small>
                    </div>
                    <span>{% if rec.hecho %}‚úÖ Hecho{% else %}‚è≥ Pendiente{% endif %}</span>
                </li>
                {% endfor %}
            </ul>
        {% else %}
            <div class="alert alert-info text-center mt-3">
                No se encontraron recordatorios para esta fecha.
            </div>
        {% endif %}
    {% endif %}
</div>
{% endblock %}
